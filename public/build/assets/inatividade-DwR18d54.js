async function s(){const o=localStorage.getItem("token"),e=document.getElementById("nome-usuario");if(!(!o||!e))try{const t=await fetch("/api/me",{headers:{Authorization:`Bearer ${o}`,Accept:"application/json"}});if(!t.ok)throw new Error("Usuario nao encontrado!");const a=await t.json();e.innerHTML=`<p>Olá, ${a.nome}</p>`}catch(t){console.error(t),e.textContent="Usuario",alert("Erro ao pegar nome!")}}const i=2*60*60*1e3;function l(){const o="token",e="lastActivity";function t(){localStorage.setItem(e,Date.now().toString())}function a(){const n=localStorage.getItem(o),r=localStorage.getItem(e);n&&r&&Date.now()-parseInt(r,10)>i&&(localStorage.removeItem(o),localStorage.removeItem(e),alert("Sua sessão expirou por inatividade"),window.location.href="/login")}["click","mousemove","keydown"].forEach(n=>{window.addEventListener(n,t),setInterval(a,60*1e3),localStorage.getItem(o)&&t()})}export{s as g,l as v};
